function t(){return(t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var n=function(t){void 0===t&&(t={});var n="";return Object.keys(t).forEach(function(i){n+=" "+i+'="'+t[i]+'"'}),n};module.exports=function(){function i(t){var n=this,i=void 0===t?{}:t,r=i.attributes,e=i.container,o=i.height,s=i.width,a=i.viewBox;["add","bigger","circle","constrain","degrees","draw","ellipse","empty","group","groupEnd","groupStart","lerp","lerpColor","line","map","markup","path","polygon","polyline","radians","random","rect","redraw","remove","save","savePNG","saveSVG","setAttributes","smaller","spline","square","times","triangle"].forEach(function(t){n[t]=n[t].bind(n)}),this.contents=[],this.height=o||800,this.width=s||800,this.viewBox=a||"0 0 "+this.width+" "+this.height,this.container=e||"body",this.attributes=r||{}}var r=i.prototype;return r.draw=function(){if("undefined"!=typeof window&&window&&window.document){var t=document.querySelector(this.container);return t?t.innerHTML=this.markup():console.log("WARN: no container"),this}},r.add=function(t){return this.contents.push(t),this},r.empty=function(){return this.contents=[],this},r.remove=function(){var t=this.container+" .goodgraphics",n=document.querySelector(t);return n?n.remove():console.log("WARN: unable to remove element. Check your selector: "+t),this},r.redraw=function(){return this.remove(),this.draw(),this},r.circle=function(t,i,r,e){return void 0===e&&(e={}),this.add('<circle\n        cx="'+t+'" cy="'+i+'"\n        r="'+r+'"\n        '+n(e)+"\n      />"),this},r.ellipse=function(t,i,r,e,o){void 0===o&&(o={}),this.add('<ellipse\n        cx="'+t+'" cy="'+i+'"\n        rx="'+r+'" ry="'+e+'"\n        '+n(o)+"\n      />")},r.rect=function(t,i,r,e,o){return void 0===o&&(o={}),this.add('<rect\n        x="'+t+'" y="'+i+'"\n        height="'+e+'" width="'+r+'"\n        '+n(o)+"\n      />"),this},r.square=function(t,n,i,r){return void 0===r&&(r={}),this.rect(t,n,i,i,r),this},r.triangle=function(n,i,r,e){void 0===e&&(e={});var o=r*(Math.sqrt(3)/2);return this.polyline([[0,-o/2],[-r/2,o/2],[r/2,o/2],[0,-o/2]],t({},e,{transform:(e.transform||"")+" translate("+n+" "+i+")"})),this},r.path=function(t,i){return void 0===i&&(i={}),this.add('<path d="'+t+'" '+n(i)+"/>"),this},r.line=function(t,i,r,e,o){return void 0===o&&(o={}),this.add('<line\n        x1="'+t+'" y1="'+i+'"\n        x2="'+r+'" y2="'+e+'"\n        '+n(o)+"\n      />"),this},r.polyline=function(t,i){return void 0===i&&(i={}),this.add('<polyline points="'+t+'" '+n(i)+" />"),this},r.polygon=function(t,i){void 0===i&&(i={}),this.add('<polygon points="'+t+'" '+n(i)+" />")},r.group=function(t,i){return void 0===i&&(i={}),this.add("<g "+n(i)+">"),t(),this.add("</g>"),this},r.groupStart=function(t){return void 0===t&&(t={}),this.add("<g "+n(t)+">"),this},r.groupEnd=function(){return this.add("</g>"),this},r.setAttributes=function(n){return void 0===n&&(n={}),this.attributes=t({},this.attributes,n),this},r.times=function(t,n,i){void 0===i&&(i={}),this.groupStart(i);for(var r=0;r<t;r++)n(r);return this.groupEnd(),this},r.grid=function(n,i,r){var e=void 0===n?{}:n,o=e.x,s=e.y,a=e.columns,h=e.rows,u=e.height,d=void 0===u?this.height:u,c=e.width,l=void 0===c?this.width:c,v=e.margin,p=void 0===v?0:v;void 0===r&&(r={});var f={};!o&&0!==o||!s&&0!==s||r.transform||(f.transform="translate("+o+", "+s+")"),this.groupStart(t({},r,f));for(var g=0;g<h;g++)for(var m=0;m<a;m++){var w=p/2;i({colIndex:m,rowIndex:g,posX:this.map(m,0,a,w,l-w),posY:this.map(g,0,h,w,d-w),cellHeight:(d-p)/h,cellWidth:(l-p)/a})}return this.groupEnd(),this},r.markup=function(){return'\n      <svg\n        xmlns="http://www.w3.org/2000/svg" class="goodgraphics"\n        height="'+this.height+'" width="'+this.width+'"\n        viewBox="'+this.viewBox+'"\n        '+n(this.attributes)+"\n      >\n        "+this.contents.join("\n")+"\n      </svg>\n      "},r.save=function(t,n,i){void 0===i&&(i={});var r=document.querySelector(this.container+" .goodgraphics"),e="data:image/svg+xml;utf8,"+encodeURIComponent(r.outerHTML);n?this.savePNG(t,e,i):this.saveSVG(t,e,i)},r.saveSVG=function(t,n,i){var r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},r.savePNG=function(t,n,i){void 0===i&&(i={});var r=new Image;r.onload=function(){var n=document.createElement("canvas"),e=i.height||2*this.height,o=i.width||2*this.width;n.height=e,n.width=o,n.getContext("2d").drawImage(r,0,0,o,e);var s=n.toDataURL("image/png");!function(t,n){var i=document.createElement("a");i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(t,s)},r.src=n},r.lerp=function(t,n,i){return t*(1-i)+n*i},r.constrain=function(t,n,i){return t<n?n:t>i?i:t},r.radians=function(t){return t/360*(2*Math.PI)},r.degrees=function(t){return t/(2*Math.PI)*360},r.random=function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},r.smaller=function(t,n){return t<n?t:n},r.bigger=function(t,n){return t>n?t:n},r.map=function(t,n,i,r,e){return(t-n)*(e-r)/(i-n)+r},r.lerpColor=function(t,n,i){var r=parseInt(t.replace(/#/g,""),16),e=r>>16,o=r>>8&255,s=255&r,a=parseInt(n.replace(/#/g,""),16);return"#"+((1<<24)+(e+i*((a>>16)-e)<<16)+(o+i*((a>>8&255)-o)<<8)+(s+i*((255&a)-s))|0).toString(16).slice(1)},r.spline=function(t,n,i,r){void 0===t&&(t=[]),void 0===n&&(n=1),void 0===i&&(i=!1);var e=(t=function(t,n){if(t=[].concat(t),Array.isArray(t[0])||(t=t.map(function(t){return[t.x,t.y]})),n){var i=t[t.length-2],r=t[0],e=t[1];t.unshift(t[t.length-1]),t.unshift(i),t.push(r),t.push(e)}return t.flat()}(t,i)).length,o=e-4,s=i?t[2]:t[0],a=i?t[3]:t[1],h="M"+[s,a];r&&r("MOVE",[s,a]);for(var u=i?e-4:e-2,d=i?2:0;d<u;d+=2){var c=t[d+0],l=t[d+1],v=t[d+2],p=t[d+3],f=c+(v-(d?t[d-2]:t[0]))/6*n,g=l+(p-(d?t[d-1]:t[1]))/6*n,m=v-((d!==o?t[d+4]:v)-c)/6*n,w=p-((d!==o?t[d+5]:p)-l)/6*n;h+="C"+[f,g,m,w,v,p],r&&r("CURVE",[f,g,m,w,v,p])}return h},i}();
//# sourceMappingURL=goodgraphics.js.map
