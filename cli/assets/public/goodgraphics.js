!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t||self).goodgraphics=n()}(this,function(){function t(){return(t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}var n=function(t){void 0===t&&(t={});var n="";return Object.keys(t).forEach(function(i){n+=" "+i+'="'+t[i]+'"'}),n};return function(){function i(t){var n=this,i=void 0===t?{}:t,e=i.attributes,r=i.container,o=i.height,s=i.width,a=i.viewBox;["add","bigger","circle","constrain","degrees","draw","ellipse","empty","group","groupEnd","groupStart","lerp","lerpColor","line","map","markup","path","polygon","polyline","radians","random","rect","redraw","remove","save","savePNG","saveSVG","setAttributes","smaller","spline","square","times","triangle"].forEach(function(t){n[t]=n[t].bind(n)}),this.contents=[],this.height=o||800,this.width=s||800,this.viewBox=a||"0 0 "+this.width+" "+this.height,this.container=r||"body",this.attributes=e||{}}var e=i.prototype;return e.draw=function(){if("undefined"!=typeof window&&window&&window.document){var t=document.querySelector(this.container);return t?t.innerHTML=this.markup():console.log("WARN: no container"),this}},e.add=function(t){return this.contents.push(t),this},e.empty=function(){return this.contents=[],this},e.remove=function(){var t=this.container+" .goodgraphics",n=document.querySelector(t);return n?n.remove():console.log("WARN: unable to remove element. Check your selector: "+t),this},e.redraw=function(){return this.remove(),this.draw(),this},e.circle=function(t,i,e,r){return void 0===r&&(r={}),this.add('<circle\n        cx="'+t+'" cy="'+i+'"\n        r="'+e+'"\n        '+n(r)+"\n      />"),this},e.ellipse=function(t,i,e,r,o){void 0===o&&(o={}),this.add('<ellipse\n        cx="'+t+'" cy="'+i+'"\n        rx="'+e+'" ry="'+r+'"\n        '+n(o)+"\n      />")},e.rect=function(t,i,e,r,o){return void 0===o&&(o={}),this.add('<rect\n        x="'+t+'" y="'+i+'"\n        height="'+r+'" width="'+e+'"\n        '+n(o)+"\n      />"),this},e.square=function(t,n,i,e){return void 0===e&&(e={}),this.rect(t,n,i,i,e),this},e.triangle=function(n,i,e,r){void 0===r&&(r={});var o=e*(Math.sqrt(3)/2);return this.polyline([[0,-o/2],[-e/2,o/2],[e/2,o/2],[0,-o/2]],t({},r,{transform:(r.transform||"")+" translate("+n+" "+i+")"})),this},e.path=function(t,i){return void 0===i&&(i={}),this.add('<path d="'+t+'" '+n(i)+"/>"),this},e.line=function(t,i,e,r,o){return void 0===o&&(o={}),this.add('<line\n        x1="'+t+'" y1="'+i+'"\n        x2="'+e+'" y2="'+r+'"\n        '+n(o)+"\n      />"),this},e.polyline=function(t,i){return void 0===i&&(i={}),this.add('<polyline points="'+t+'" '+n(i)+" />"),this},e.polygon=function(t,i){void 0===i&&(i={}),this.add('<polygon points="'+t+'" '+n(i)+" />")},e.group=function(t,i){return void 0===i&&(i={}),this.add("<g "+n(i)+">"),t(),this.add("</g>"),this},e.groupStart=function(t){return void 0===t&&(t={}),this.add("<g "+n(t)+">"),this},e.groupEnd=function(){return this.add("</g>"),this},e.setAttributes=function(n){return void 0===n&&(n={}),this.attributes=t({},this.attributes,n),this},e.times=function(t,n,i){void 0===i&&(i={}),this.groupStart(i);for(var e=0;e<t;e++)n(e);return this.groupEnd(),this},e.grid=function(n,i,e){var r=void 0===n?{}:n,o=r.x,s=r.y,a=r.columns,h=r.rows,u=r.height,d=void 0===u?this.height:u,c=r.width,l=void 0===c?this.width:c,f=r.margin,p=void 0===f?0:f;void 0===e&&(e={});var v={};!o&&0!==o||!s&&0!==s||e.transform||(v.transform="translate("+o+", "+s+")"),this.groupStart(t({},e,v));for(var g=0;g<h;g++)for(var m=0;m<a;m++){var y=p/2;i({colIndex:m,rowIndex:g,posX:this.map(m,0,a,y,l-y),posY:this.map(g,0,h,y,d-y),cellHeight:(d-p)/h,cellWidth:(l-p)/a})}return this.groupEnd(),this},e.markup=function(){return'\n      <svg\n        xmlns="http://www.w3.org/2000/svg" class="goodgraphics"\n        height="'+this.height+'" width="'+this.width+'"\n        viewBox="'+this.viewBox+'"\n        '+n(this.attributes)+"\n      >\n        "+this.contents.join("\n")+"\n      </svg>\n      "},e.save=function(t,n,i){void 0===i&&(i={});var e=document.querySelector(this.container+" .goodgraphics"),r="data:image/svg+xml;utf8,"+encodeURIComponent(e.outerHTML);n?this.savePNG(t,r,i):this.saveSVG(t,r,i)},e.saveSVG=function(t,n,i){var e=document.createElement("a");e.setAttribute("href",n),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},e.savePNG=function(t,n,i){void 0===i&&(i={});var e=new Image;e.onload=function(){var n=document.createElement("canvas"),r=i.height||2*this.height,o=i.width||2*this.width;n.height=r,n.width=o,n.getContext("2d").drawImage(e,0,0,o,r);var s=n.toDataURL("image/png");!function(t,n){var i=document.createElement("a");i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(t,s)},e.src=n},e.lerp=function(t,n,i){return t*(1-i)+n*i},e.constrain=function(t,n,i){return t<n?n:t>i?i:t},e.radians=function(t){return t/360*(2*Math.PI)},e.degrees=function(t){return t/(2*Math.PI)*360},e.random=function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},e.smaller=function(t,n){return t<n?t:n},e.bigger=function(t,n){return t>n?t:n},e.map=function(t,n,i,e,r){return(t-n)*(r-e)/(i-n)+e},e.lerpColor=function(t,n,i){var e=parseInt(t.replace(/#/g,""),16),r=e>>16,o=e>>8&255,s=255&e,a=parseInt(n.replace(/#/g,""),16);return"#"+((1<<24)+(r+i*((a>>16)-r)<<16)+(o+i*((a>>8&255)-o)<<8)+(s+i*((255&a)-s))|0).toString(16).slice(1)},e.spline=function(t,n,i,e){void 0===t&&(t=[]),void 0===n&&(n=1),void 0===i&&(i=!1);var r=(t=function(t,n){if(t=[].concat(t),Array.isArray(t[0])||(t=t.map(function(t){return[t.x,t.y]})),n){var i=t[t.length-2],e=t[0],r=t[1];t.unshift(t[t.length-1]),t.unshift(i),t.push(e),t.push(r)}return t.flat()}(t,i)).length,o=r-4,s=i?t[2]:t[0],a=i?t[3]:t[1],h="M"+[s,a];e&&e("MOVE",[s,a]);for(var u=i?r-4:r-2,d=i?2:0;d<u;d+=2){var c=t[d+0],l=t[d+1],f=t[d+2],p=t[d+3],v=c+(f-(d?t[d-2]:t[0]))/6*n,g=l+(p-(d?t[d-1]:t[1]))/6*n,m=f-((d!==o?t[d+4]:f)-c)/6*n,y=p-((d!==o?t[d+5]:p)-l)/6*n;h+="C"+[v,g,m,y,f,p],e&&e("CURVE",[v,g,m,y,f,p])}return h},i}()});
//# sourceMappingURL=goodgraphics.umd.js.map
